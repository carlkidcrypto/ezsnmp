--- apps/snmpget.c
+++ apps/snmpget.cpp
@@ -26,43 +27,44 @@
 ******************************************************************/
 #include <net-snmp/net-snmp-config.h>
 
 #include <stdlib.h>
 #endif
 #include <unistd.h>
 #endif
 #include <string.h>
 #else
 #include <strings.h>
 #endif
 #include <sys/types.h>
 #include <netinet/in.h>
 #endif
-#include <stdio.h>
 #include <ctype.h>
+#include <stdio.h>
 # include <sys/time.h>
 # include <time.h>
 #else
 #  include <sys/time.h>
 # else
 #  include <time.h>
 # endif
 #endif
 #include <sys/select.h>
 #endif
 #include <netdb.h>
 #endif
 #include <arpa/inet.h>
 #endif
 
-#include <net-snmp/utilities.h>
-
 #include <net-snmp/net-snmp-includes.h>
+#include <net-snmp/utilities.h>
 
 #define NETSNMP_DS_APP_DONT_FIX_PDUS 0
 
-static void
-optProc(int argc, char *const *argv, int opt)
-{
+#include "exceptionsbase.h"
+#include "helpers.h"
+#include "snmpget.h"
+
+void snmpget_optProc(int argc, char *const *argv, int opt) {
     switch (opt) {
     case 'C':
         while (*optarg) {
